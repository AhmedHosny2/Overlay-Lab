@page
@model Portal.Pages.IDEToDockerModel
@{
}

<div class="container mt-5">
    <div class="text-center mb-4">
        <h1 class="display-4">Contact your container!</h1>
    </div>
    <h2>Enter Command</h2>
    <form method="post" asp-page-handler="ExecuteCommand" id="myForm">
        <div id="editor" style="height:400px;border:1px solid grey"></div>

        <!-- Hidden input to capture editor content -->
        <input type="hidden" id="commandInput" name="CommandInput" />

        <br />
        <input type="submit" value="Execute Command" class="btn btn-primary mb-2" />
    </form>

   
    <h3>Command Output</h3>
    <pre style="background-color:#000; color:#fff; padding:10px; border-radius:4px;">
    @Model.CommandOutput    



    </pre>

    <!-- Monaco Editor Script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.22.3/min/vs/loader.js"></script>
    <script>
        require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.22.3/min/vs' } });
        require(['vs/editor/editor.main'], function () {
            var editor = monaco.editor.create(document.getElementById('editor'), {
                value: '',
                language: 'shell',
                theme: 'vs-dark'
            });
            var form = document.querySelector('form');
            form.addEventListener('submit', function () {
                document.getElementById('commandInput').value = editor.getValue();
            });
        });
    </script>
</div>

<style>
    .table thead th {
        vertical-align: middle;
        text-align: center;
    }

    .table tbody td {
        vertical-align: middle;
        text-align: center;
    }
</style>